!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";function e({wrapper:e,activeClass:t="in-dark-mode",active:a=!1,trigger:r}){const n=e.querySelectorAll("*");function o(){a?(document.body.setAttribute("data-dark-mode",!0),n.forEach(e=>{e.classList.add(t)}),a=!1,localStorage.setItem("dark-mode","true")):n.forEach(e=>{document.body.removeAttribute("data-dark-mode"),e.classList.remove(t),a=!0,localStorage.removeItem("dark-mode")})}localStorage.getItem("dark-mode")&&(a=!0),o(),r.addEventListener("click",o)}function t({provider:e=document.body,initial:t}){const a=localStorage.getItem("current theme");let r;r=a||t,e.setAttribute("data-theme",r),localStorage.setItem("current theme",r);return{setTheme(t){r=t,e.setAttribute("data-theme",t),localStorage.setItem("current theme",t)},getCurrentTheme:()=>r}}function a({el:e,activeClass:t="in-view",threshold:a=.2}){new IntersectionObserver((function(a){const{isIntersecting:r}=a[0];r&&e.classList.add(t),e.hasAttribute("data-reverse")&&(r||e.classList.remove(t))}),{threshold:a}).observe(e)}function r({el:e,ease:t="linear"}){let a=!1;window.addEventListener("scroll",()=>{a||window.requestAnimationFrame(()=>{!function(){const a=window.pageYOffset+window.innerHeight/2-(e.offsetTop+e.offsetHeight/2),r=parseFloat(e.getAttribute("data-parallax-speed"));let n="";n=e.hasAttribute("data-parallax-direction")?e.getAttribute("data-parallax-direction"):"vertical","vertical"===n.toLowerCase()?e.style.transform=`translate3d(0, ${a*r/3}px, 0)`:"horizontal"===n.toLowerCase()&&(e.style.transform=`translate3d( ${a*r/3}px, 0, 0)`),e.style.transition="transform "+t}(),a=!1}),a=!0})}function n({parent:e,transition:t=!0,animation:a=!1,stagger:r=.1}){e.querySelectorAll("*").forEach((e,n)=>{t&&(e.style.transitionDelay=n*r+"s"),a&&(e.style.animationDelay=n*r+"s")})}function o(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function s({el:e,duration:t=1,ease:a="ease",anim:r},n,s,l=0){let i=document.createElement("style");document.head.appendChild(i);let c="",d="";const u=function(e){let t=e,a=["",""];const r=Object.keys(e),n=["x","y","z","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ"],o=r.filter(e=>n.includes(e));let{x:s=[0,0],y:l=[0,0],z:i=[0,0],scale:c=[0,0],rotate:d=[0,0],scaleX:u=[0,0],scaleY:m=[0,0],scaleZ:f=[0,0],rotateX:h=[0,0],rotateY:$=[0,0],rotateZ:p=[0,0]}=e;function g(e,t){o.includes(e)&&(a[0]+=`${e}(${t[0]}) `,a[1]+=`${e}(${t[1]}) `)}function v(e,t,r){(o.includes(t[0])||o.includes(t[1])||o.includes(t[2]))&&(a[0]+=`${e}(${r[0][0]}, ${r[1][0]}, ${r[2][0]}) `,a[1]+=`${e}(${r[0][1]}, ${r[1][1]}, ${r[2][1]}) `)}return g("scale",c),g("rotate",d),v("translate3d",["x","y","z"],[s,l,i]),v("rotate3d",["rotateX","rotateY","rotateZ"],[h,$,p]),v("scale3d",["scaleX","scaleY","scaleZ"],[u,m,f]),n.map(r=>{o.includes(r)&&(t={...e,transform:a})}),t}(r);Object.entries(u).map(e=>c+=`${o(e[0])}: ${e[1][0]}; `),Object.entries(u).map(e=>d+=`${o(e[0])}: ${e[1][1]}; `);let m=`@keyframes element-${n}-${s}{\n        from{\n            ${c}\n        }\n        to{\n            ${d}\n        }\n    }`;i.sheet.insertRule(m),i.sheet.insertRule(`${e} {\n        animation: element-${n}-${s} ${t}s ${a} ${l}s both ${s};\n    }`)}function l(e){let t=[],a=0;e.map(({delay:e=0,duration:a},r)=>{0!==r?t.push(e+a):t.push(e)});let r=!1;function n(n="normal",o=!1){o&&(r=!r,n=r?"normal":"reverse"),e.map((e,r)=>(a=t.slice(0,r+1).reduce((e,t)=>e+t),"reverse"===n&&(a=t.reverse().slice(r,t.length).reduceRight((e,t)=>e+t)),s(e,r,n,a)))}return{play:()=>n(),reverse:()=>n("reverse"),toggle:(e="normal")=>n(e,!0)}}module.exports=()=>({darkMode:e,themeBuilder:t,scroll:a,parallax:r,staggerChildren:n,chain:l})}));
